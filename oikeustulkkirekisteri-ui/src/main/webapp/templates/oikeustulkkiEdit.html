<div class="container">

    <div class="form-header">
        <span ng-if="action == 'edit'" tt="muokkaa_tulkkia">Muokkaa oikeustulkkia</span>
        <span ng-if="action == 'create'" tt="lisaa_uusi_hakemus">Lisää oikeustulkille uusi hakemus</span>
    </div>

    <form class="form-horizontal" name="tulkkiForm" novalidate>

      <div class="form-group">
          <label for="etunimet" class="col-sm-2 control-label required" tt="oikeustulkki_etunimet">Etunimet</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.etunimet" name="etunimet" type="text" class="form-control" id="etunimet" ng-disabled="tulkki.yksiloityVTJ" required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.etunimet.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.etunimet.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="kutsumanimi" class="col-sm-2 control-label required"  tt="oikeustulkki_kutsumanimi">Kutsumanimi</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.kutsumanimi" name="kutsumanimi" type="text" class="form-control" id="kutsumanimi" required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.kutsumanimi.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="kutsumainvalid" tt="kutsumanimi_virhe">Kutsumanimen pitää esiintyä Etunimissä</div>
                  <div ng-message="custom">{{tulkkiForm.kutsumanimi.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="sukunimi" class="col-sm-2 control-label required" tt="oikeustulkki_sukunimi">Sukunimi</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.sukunimi" name="sukunimi" type="text" class="form-control" id="sukunimi" ng-disabled="tulkki.yksiloityVTJ" required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.sukunimi.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.sukunimi.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="hetu" class="col-sm-2 control-label required" tt="oikeustulkki_hetu">Hetu</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.hetu" name="hetu" type="text" class="form-control" id="hetu" ng-disabled="tulkki.yksiloityVTJ" required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.hetu.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.hetu.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="katuosoite" class="col-sm-2 control-label required" tt="oikeustulkki_katuosoite">Katuosoite</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.osoite.katuosoite" type="text" class="form-control" id="katuosoite"
                     name="katuosoite"  required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.katuosoite.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.katuosoite.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="postinumero" class="col-sm-2 control-label required" tt="oikeustulkki_postinumero">Postinumero</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.osoite.postinumero" type="text" class="form-control" id="postinumero"
                     name="postinumero"  required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.postinumero.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.postinumero.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="postitoimipaikka" class="col-sm-2 control-label required" tt="oikeustulkki_postitoimipaikka">Postitoimipaikka</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.osoite.postitoimipaikka" type="text" class="form-control" id="postitoimipaikka"
                     name="postitoimipaikka"  required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.postitoimipaikka.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.postitoimipaikka.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="email" class="col-sm-2 control-label required" tt="oikeustulkki_sahkopostiosoite">Sähköpostiosoite</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.email" class="form-control" id="email" name="email"
                      required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.email.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="email" tt="virhe_sahkoposti_virheellinen">Virheellinen sähköpostiosoite</div>
                  <div ng-message="custom">{{tulkkiForm.email.$customError}}</div>
              </div>
              <div class="checkbox">
                  <label>
                      <input type="checkbox" ng-model="tulkki.julkaisulupaEmail">
                      <span tt="tiedon_saa_julkaista">saa julkaista</span>
                  </label>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="phone" class="col-sm-2 control-label" tt="oikeustulkki_puhelinnumero">Puhelinnumero</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.puhelinnumero" type="text" class="form-control" id="phone" >
              <div ng-if="showErrors" ng-messages="tulkkiForm.puhelinnumero.$error" role="alert" class="error-msg">
                  <div ng-message="custom">{{tulkkiForm.puhelinnumero.$customError}}</div>
              </div>
              <div class="checkbox" ng-if="tulkki.puhelinnumero">
                  <label>
                      <input type="checkbox" ng-model="tulkki.julkaisulupaPuhelinnumero">
                      <span tt="tiedon_saa_julkaista">saa julkaista</span>
                  </label>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="contactInfo" class="col-sm-2 control-label" tt="oikeustulkki_muu_yhteystieto">Muu yhteystieto</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.muuYhteystieto" type="text" class="form-control" id="contactInfo" >
              <div ng-if="showErrors" ng-messages="tulkkiForm.muuYhteystieto.$error" role="alert" class="error-msg">
                  <div ng-message="custom">{{tulkkiForm.muuYhteystieto.$customError}}</div>
              </div>
              <div class="checkbox" ng-if="tulkki.muuYhteystieto">
                  <label>
                      <input type="checkbox" ng-model="tulkki.julkaisulupaMuuYhteystieto">
                      <span tt="tiedon_saa_julkaista">saa julkaista</span>
                  </label>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="alkaa" class="col-sm-2 control-label required" tt="oikeustulkki_alku_pvm">Alku pvm</label>
          <div class="col-sm-8">
              <input class="form-control" ng-model="tulkki.alkaa" id="alkaa" required date-time min-view="date"
                     view="date" format="dd.MM.yyyy">
              <div ng-if="showErrors" ng-messages="tulkkiForm.alkaa.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.alkaa.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group" ng-if="action == 'edit'">
          <label for="paattyy" class="col-sm-2 control-label required"  tt="oikeustulkki_paattyy_pvm">Päättyy pvm</label>
          <div class="col-sm-8">
              <input class="form-control" ng-model="tulkki.paattyy" id="paattyy" required date-picker min-view="date"
                     view="date" format="dd.MM.yyyy">
              <div ng-if="showErrors" ng-messages="tulkkiForm.paattyy.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.paattyy.$customError}}</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="tutkinto" class="col-sm-2 control-label required" tt="oikeustulkki_suoritettu_tutkinto">Suoritettu tutkinto</label>
          <div class="col-sm-8">
              <label>
                  <input id="tutkinto" ng-model="tulkki.tutkintoTyyppi" type="radio" name="tutkinto"
                         value="OIKEUSTULKIN_ERIKOISAMMATTITUTKINTO">
                  <span tt="oikeustulkki_tutkinto_erikoisammattitutkinto">Oikeustulkin erikoisammattitutkinto</span><br>
              </label>
              <br/>
              <label>
                  <input ng-model="tulkki.tutkintoTyyppi" type="radio" name="tutkinto"
                         value="MUU_KORKEAKOULUTUTKINTO">
                  <span tt="oikeustulkki_korkeakoulu">Korkeakoulututkinto</span><br>
              </label>
          </div>
      </div>

      <div class="form-group">
          <label for="languagePairs" class="col-sm-2 control-label required" tt="oikeustulkki_kieliparit">Kieliparit</label>

          <div class="col-sm-8">
              <div>
                  <p ng-repeat="kielipari in tulkki.kieliparit">
                      {{kielipari.kielesta.nimi[currentLocale]}} - {{kielipari.kieleen.nimi[currentLocale]}}
                      <button type="button" class="btn btn-default remove-pair-btn btn-xs"
                              ng-click="removeKielipari(kielipari)">
                          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                      </button>
                  </p>
              </div>

              <div>
                  <ui-select ng-model="kielesta.selected" id="languagePairs" class="col-sm-4">
                      <ui-select-match >
                          <span ng-bind="$select.selected.nimi[currentLocale]"></span>
                      </ui-select-match>
                      <ui-select-choices position="up"
                                         repeat="kieli in (kielet | selectFilter: $select.search) track by kieli.arvo">
                          <span ng-bind="kieli.nimi[currentLocale]"></span>
                      </ui-select-choices>
                  </ui-select>

                  <ui-select ng-model="kieleen.selected" class="col-sm-4">
                      <ui-select-match >
                          <span ng-bind="$select.selected.nimi[currentLocale]"></span>
                      </ui-select-match>
                      <ui-select-choices position="up"
                                         repeat="kieli in (kielet | selectFilter: $select.search) track by kieli.arvo">
                          <span ng-bind="kieli.nimi[currentLocale]"></span>
                      </ui-select-choices>
                  </ui-select>

                  <button class="btn btn-primary btn-oph-default" ng-click="addKielipari()" tt="oikeustulkki_kielipari_lisaa">Lisää</button>
              </div>

              <div ng-if="showErrors && tulkki.kieliparit.length === 0" class="error-msg">
                  <div tt="virhe_kielipareja_ei_lisatty">Kielipareja ei ole lisätty</div>
              </div>

          </div>
      </div>

      <div class="form-group">
          <label for="lisatiedot" class="col-sm-2 control-label" tt="oikeustulkki_lisatietoa">Lisätietoa</label>
          <div class="col-sm-8">
              <textarea class="form-control" rows="3" ng-model="tulkki.lisatiedot" id="lisatiedot" ></textarea>
          </div>
      </div>

      <div class="form-group">
          <label for="kokoSuomi" class="col-sm-2 control-label required" tt="oikeustulkki_toimintaalue">Toiminta-alue</label>
          <div class="col-sm-2">
              <label>
                  <input id="kokoSuomi" ng-model="tulkki.kokoSuomi" type="radio" ng-value="true" tt="oikeustulkki_alue_koko_suomi">Koko Suomi<br>
              </label>
              <br/>
              <label>
                  <input ng-model="tulkki.kokoSuomi" type="radio" ng-value="false" tt="oikeustulkki_alue_maakunnat">Maakunnat<br>
              </label>
          </div>
          <div class="col-sm-6" ng-if="!tulkki.kokoSuomi">
              <ui-select multiple tagging ng-model="tulkki.toimintaAlue" id="region" required name="toimintaAlue">
                  <ui-select-match >
                      <span ng-bind="$item.nimi[currentLocale]"></span>
                  </ui-select-match>
                  <ui-select-choices position="up"
                                     repeat="region in (regions | selectFilter: $select.search) track by region.arvo">
                      <span ng-bind="region.nimi[currentLocale]"></span>
                  </ui-select-choices>
              </ui-select>

              <br/>
              <div ng-if="showErrors" ng-messages="tulkkiForm.toimintaAlue.$error" role="alert"
                   class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
              </div>
          </div>
      </div>

      <div class="form-group">
          <div class="col-sm-offset-2 col-sm-8">
              <div class="checkbox">
                  <label>
                      <input type="checkbox" ng-model="tulkki.julkaisulupa" id="infoPublished">
                      <span tt="julkaistu">Julkaistu</span>
                  </label>
              </div>
          </div>
      </div>

      <div class="form-group" ng-if="action == 'edit'">
          <label for="sukunimi" class="col-sm-2 control-label required" tt="muokkausviesti">Muokkausviesti</label>
          <div class="col-sm-8">
              <input ng-model="tulkki.muokkausviesti" name="muokkausviesti" type="text" class="form-control" id="muokkausviesti"
                      required>
              <div ng-if="showErrors" ng-messages="tulkkiForm.muokkausviesti.$error" role="alert" class="error-msg">
                  <div ng-message="required" tt="pakollinen_kentta">Pakollinen kenttä</div>
                  <div ng-message="custom">{{tulkkiForm.muokkausviesti.$customError}}</div>
              </div>
          </div>
      </div>
      
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-8">
          <button class="btn btn-primary btn-save" ng-click="save()" tt="generic_tallenna">Tallenna</button>
          <a type="button" class="btn btn-default btn-oph-default" href="#/oikeustulkki/{{tulkkiId}}" tt="generic_cancel">Peruuta</a>
        </div>
      </div>

  </form>

</div>
